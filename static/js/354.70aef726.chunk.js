"use strict";(self.webpackChunkportfolio=self.webpackChunkportfolio||[]).push([[354],{354:(e,r,i)=>{i.r(r),i.d(r,{default:()=>v});var o=i(216),s=i(943),a=i(244);const t={movie:"movie_movie__bIsDA",error:"movie_error__oZjra",movieDark:"movie_movieDark__6as3w",movieDetails:"movie_movieDetails__BcGRR",movieDetailsDark:"movie_movieDetailsDark__hbleL",titleWrapper:"movie_titleWrapper__RcwV3",descriptionWrapper:"movie_descriptionWrapper__UzXyz",descriptionWrapperDark:"movie_descriptionWrapperDark__3oHmm",managWrapper:"movie_managWrapper__Joyvm",movieDetailsMobile:"movie_movieDetailsMobile__ap46i",movieDetailsMobileDark:"movie_movieDetailsMobileDark__Gh92U"};var l=i(43),n=i(532),c=i(592),m=i(579);function v(){const e=(0,o.Zp)(),{id:r}=(0,o.g)(),{data:i,error:v,isLoading:p}=(0,a.GX)(r),{authorized:d,toggleFavorite:_,isDarkTheme:D}=(0,n.J)(),u=(0,c.L)(),g=i,[h,f]=(0,l.useState)(!1);(0,l.useEffect)((()=>{var e;const i=JSON.parse(localStorage.getItem("current-user"));null!==i&&void 0!==i&&null!==(e=i.favoritesMoviesIds)&&void 0!==e&&e.includes(r)?f(!0):f(!1)}),[r,d]);return v?(0,m.jsx)("p",{className:t.error,children:v}):(0,m.jsx)("div",{className:`\n            ${D?t.movieDark:t.movie} \n            ${u?t.movieMobile:""} \n            ${!D&&u?t.movieMobileDark:""}\n        `,children:p?(0,m.jsx)(s.a,{className:t.loader}):(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("div",{className:`\n                        ${D?t.movieDetailsDark:t.movieDetails}\n                        ${u?t.movieDetailsMobile:""}\n                        ${u&&D?t.movieDetailsMobileDark:""}\n                        `,children:[(0,m.jsxs)("div",{className:D?t.titleWrapperDark:t.titleWrapper,children:[(0,m.jsx)("h1",{children:g.Title}),(0,m.jsx)("img",{src:g.Poster,alt:g.Title,className:t.poster})]}),(0,m.jsxs)("div",{className:D?t.descriptionWrapperDark:t.descriptionWrapper,children:[(0,m.jsxs)("p",{children:["Year: ",g.Year]}),(0,m.jsxs)("p",{children:["Genre: ",g.Genre]}),(0,m.jsxs)("p",{children:["Plot: ",g.Plot]}),(0,m.jsxs)("p",{children:["Director: ",g.Director]}),(0,m.jsxs)("p",{children:["Actors: ",g.Actors]}),(0,m.jsxs)("div",{className:t.managWrapper,children:[(0,m.jsx)("p",{children:h?"Remove from favorites":"Add to favorites"}),(0,m.jsx)("button",{onClick:()=>{if(!d)return void e("/login",{replace:!0});const i=JSON.parse(localStorage.getItem("moviPortal"))||{users:[]},o=JSON.parse(localStorage.getItem("current-user")),s=i.users.map((e=>{if(e.login===o.login){const i=h?e.favoritesMoviesIds.filter((e=>e!==r)):[...new Set([...e.favoritesMoviesIds,r])];return{...e,favoritesMoviesIds:i}}return e}));localStorage.setItem("moviPortal",JSON.stringify({users:s}));const a=s.find((e=>e.login===o.login));localStorage.setItem("current-user",JSON.stringify(a)),f(!h),_(r)},style:{color:h?"red":"black"},children:h?"\ud83d\udda4":"\u2764\ufe0f"})]})]})]})})})}}}]);
//# sourceMappingURL=354.70aef726.chunk.js.map